# Android 屏幕适配方案

标签（空格分隔）：屏幕适配 文档整理  

---
[转载](https://www.jianshu.com/p/ec5a1a30694b "Carson_Ho")

[TOC]

## 相关概念



### 屏幕尺寸

 - 含义：手机对角线的物理尺寸 
 - 单位：英寸（inch），1英寸=2.54cm

### 屏幕分辨率

* 含义 : 手机对角线物理尺寸

> 一般描述成屏幕的"宽x高”=AxB
> 含义：屏幕在横向方向（宽度）上有A个像素点，在纵向方向（高）有B个像素点
> 例子：1080x1920，即宽度方向上有1080个像素点，在高度方向上有1920个像素点

* 单位：px（pixel），1px=1像素点

> UI设计师的设计图会以px作为统一的计量单位


### 屏幕像素密度

 - 含义：每英寸的像素点数 
 - 单位：dpi（dots per ich）
![](https://upload-images.jianshu.io/upload_images/944365-5f2509be9276460c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/539)


| 密度类型 | 代表的分辨率（px） | 屏幕像素密度（dpi）|
| ------------- |:-------------:|:-------------:|
| 低密度（ldpi） | 240x320 | 120 |
| 中密度（mdpi） | 320x480 | 160 |
| 高密度（hdpi） | 480x800 | 240|
| 超高密度（xhdpi） | 720x1280 | 320|
| 超超高密度（xxhdpi） | 1080x1920 | 480 |

### 密度无关像素

> dp与px的转换

因为ui设计师给你的设计图是以px为单位的，Android开发则是使用dp作为单位的，那么我们需要进行转换：

| 密度类型 | 代表的分辨率（px） | 屏幕密度（dpi）|换算（px/dp） |
| ------------- |:-------------:| -------------:| 
| 低密度（ldpi） | 240x320 | 120 |1dp=0.75px|
| 中密度（mdpi） | 320x480 | 160 |1dp=1px|
| 高密度（hdpi） | 480x800 | 240|1dp=1.5px|
| 超高密度（xhdpi） | 720x1280 | 320|1dp=2px|
| 超超高密度（xxhdpi） | 1080x1920 | 480 |1dp=3px|


---

|机型|   分辨率（px）  |  屏幕尺寸（inch） | 系统密度（dpi）|
| ------------- |:-------------:| :-------------:| :-------------:| 
|iPhone 5s| 640X1164     |  4 | 332 |
|iPhone 6| 1334x750     |  4.7 | 326 |
| iPhone 6 Plus    | 1080x1920  |5| 400 |

### 独立比例像素

 - 含义：scale-independent pixel，叫sp或sip 
 - 单位：sp

> Android开发时用此单位设置文字大小，可根据字体大小首选项进行缩放
> 推荐使用12sp、14sp、18sp、22sp作为字体设置的大小，不推荐使用奇数和小数，容易造成精度的丢失问题；小于12sp的字体会太小导致用户看不清

---

##  为什么要进行Android屏幕适配

> Android手机的碎片化,为了让用户得到统一的用户体验,即同一元素在各分并率手机上显示效果是一样的


---


## 屏幕适配问题的本质

 1. 使得“布局”、“布局组件”、“图片资源”、“用户界面流程”匹配不同的屏幕尺寸
 2. 使得布局、布局组件自适应屏幕尺寸；
 3. 根据屏幕的配置来加载相应的UI布局、用户界面流程 
 4. 使得“图片资源”匹配不同的屏幕密度


### 解决方案

**1.“布局”匹配**
本质1：使得布局元素自适应屏幕尺寸

*  对于屏幕适配来说，使用相对布局（RelativeLayout）将会是更好的解决方案


本质2：根据屏幕的配置来加载相应的UI布局

* 需要为不同屏幕尺寸的设备设计不同的布局
* 通过配置限定符使得程序在运行时根据当前设备的配置（屏幕尺寸）自动加载合适的布局资源

> 做法：使用限定符


**2.“布局组件”匹配**

本质1：使得布局组件自适应屏幕尺寸

> *  "wrap_content" 
相应视图的宽和高就会被设定成所需的最小尺寸以适应视图中的内容 

> * "match_parent"(在Android
> API 8之前叫作"fill_parent") 视图的宽和高延伸至充满整个父布局 

> * "weight"
> 1.定义：是线性布局（Linelayout）的一个独特比例分配属性
> 2.作用：使用此属性设置权重，然后按照比例对界面进行空间的分配，
公式计算是：控件宽度=控件设置宽度+剩余空间所占百分比宽幅

通过使用"wrap_content"、"match_parent"和"weight"来替代硬编码的方式定义视图大小&位置，你的视图要么仅仅使用了需要的那边一点空间，要么就会充满所有可用的空间，即按需占据空间大小，能让你的布局元素充分适应你的屏幕尺寸

**3.“图片资源”匹配**

本质1：使得图片资源在不同屏幕密度上显示相同的像素效果

* 做法：使用自动拉伸位图：Nine-Patch的图片类型













